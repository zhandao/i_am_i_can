# frozen_string_literal: true

class RoleGroup < ActiveRecord::Base
  has_and_belongs_to_many :permissions,
                          join_table: '<%= group_pms_tb %>', foreign_key: :<%= permission_u %>_id,
                          class_name: '<%= permission_c %>', association_foreign_key: :<%= group_u %>_id

  has_and_belongs_to_many :members,
                          join_table: '<%= group_role_tb %>', foreign_key: :<%= role_u %>_id,
                          class_name: '<%= role_c %>', association_foreign_key: :<%= group_u %>_id

  acts_as_role_group

  # default_scope { with_members) }

  # default_scope { with_permissions) }
end

__END__

  string  :name, null: false
  string  :desc

  index :name, unique: true
